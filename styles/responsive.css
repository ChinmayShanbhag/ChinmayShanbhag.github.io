/**
 * DAVID CHEN - DATA SCIENCE PORTFOLIO
 * Responsive CSS - Mobile-First Design & Device Optimizations
 * 
 * Responsive breakpoints optimized for data science portfolio
 * Mobile-first approach with progressive enhancement
 * Touch-optimized interactions and gesture support
 */

/* ===== MOBILE FIRST BASE (320px+) ===== */
/* Base styles are already mobile-first in main.css */

/* ===== SMALL MOBILE (320px - 479px) ===== */
@media (max-width: 479px) {
    /* Reduce spacing for very small screens */
    :root {
        --space-xs: 0.25rem;
        --space-sm: 0.5rem;
        --space-md: 0.75rem;
        --space-lg: 1rem;
        --space-xl: 1.5rem;
        --space-xxl: 2rem;
        --space-3xl: 2.5rem;
        
        /* Smaller typography scale */
        --font-size-5xl: 2rem;
        --font-size-4xl: 1.75rem;
        --font-size-3xl: 1.5rem;
    }
    
    /* Ultra-compact container */
    .container {
        padding: 0 var(--space-sm);
    }
    
    /* Hero adjustments for tiny screens */
    .hero-section {
        padding: var(--space-xl) 0;
        min-height: 90vh;
    }
    
    .name-primary {
        font-size: clamp(2rem, 12vw, 3rem);
        line-height: 1;
    }
    
    .title-secondary {
        font-size: clamp(1rem, 6vw, 1.5rem);
    }
    
    .hero-description {
        font-size: var(--font-size-base);
    }
    
    .hero-stats {
        gap: var(--space-sm);
    }
    
    .stat-item {
        padding: var(--space-md);
    }
    
    .stat-number {
        font-size: var(--font-size-xl);
    }
    
    /* Navigation adjustments */
    .nav-container {
        padding: 0 var(--space-sm);
    }
    
    .logo-text {
        font-size: var(--font-size-base);
    }
    
    .theme-toggle {
        width: 40px;
        height: 40px;
        top: var(--space-sm);
        right: var(--space-sm);
    }
    
    /* Section adjustments */
    .section-header {
        margin-bottom: var(--space-xl);
    }
    
    .section-title {
        font-size: clamp(1.5rem, 8vw, 2.5rem);
    }
    
    .section-subtitle {
        font-size: var(--font-size-base);
    }
    
    /* Card padding reduction */
    .bio-card,
    .contact-card,
    .contact-form,
    .skill-category,
    .project-card .project-content {
        padding: var(--space-lg);
    }
    
    /* Form simplification */
    .form-group input,
    .form-group textarea,
    .form-group select {
        padding: var(--space-sm) var(--space-md);
    }
    
    /* Button adjustments */
    .btn {
        padding: var(--space-sm) var(--space-md);
        font-size: var(--font-size-sm);
    }
    
    .hero-actions {
        flex-direction: column;
        align-items: stretch;
        gap: var(--space-md);
    }
    
    /* Timeline compactness */
    .timeline-item {
        padding-left: var(--space-xl);
        margin-bottom: var(--space-lg);
    }
    
    .timeline-year {
        width: 32px;
        height: 32px;
        font-size: var(--font-size-xs);
    }
}

/* ===== MOBILE LANDSCAPE & LARGE MOBILE (480px - 767px) ===== */
@media (min-width: 480px) and (max-width: 767px) {
    /* Hero visual improvements for larger mobile */
    .hero-visual {
        height: 350px;
    }
    
    .data-cube {
        width: 180px;
        height: 180px;
    }
    
    /* Better project card layout */
    .projects-grid {
        grid-template-columns: 1fr;
        gap: var(--space-lg);
    }
    
    .project-visual {
        height: 200px;
    }
    
    /* Skills radar sizing */
    #skills-radar-chart {
        width: 320px;
        height: 320px;
    }
    
    /* Gallery improvements */
    .gallery-visual {
        height: 300px;
    }
    
    .gallery-item canvas {
        height: 150px;
    }
    
    /* Contact form 2-column on landscape mobile */
    .form-grid {
        grid-template-columns: 1fr 1fr;
        gap: var(--space-md);
    }
    
    .form-group-full {
        grid-column: 1 / -1;
    }
}

/* ===== TABLET PORTRAIT (768px - 1023px) ===== */
@media (min-width: 768px) and (max-width: 1023px) {
    /* Re-enable cursor interactions for tablet */
    body {
        cursor: default;
    }
    
    /* Hero 2-column layout for tablet */
    .hero-content {
        grid-template-columns: 1fr 1fr;
        gap: var(--space-xl);
        text-align: left;
    }
    
    .hero-visual {
        height: 400px;
    }
    
    .data-cube {
        width: 160px;
        height: 160px;
    }
    
    /* About section maintains 2-column but adjusts proportions */
    .about-content {
        grid-template-columns: 3fr 2fr;
        gap: var(--space-xl);
    }
    
    /* Skills section stacks vertically on tablet */
    .skills-content {
        grid-template-columns: 1fr;
        gap: var(--space-xl);
    }
    
    .skills-categories {
        grid-template-columns: repeat(2, 1fr);
        gap: var(--space-lg);
    }
    
    #skills-radar-chart {
        width: 350px;
        height: 350px;
    }
    
    /* Projects in 2-column grid */
    .projects-grid {
        grid-template-columns: repeat(2, 1fr);
        gap: var(--space-lg);
    }
    
    /* Contact maintains 2-column with adjusted proportions */
    .contact-content {
        grid-template-columns: 2fr 3fr;
        gap: var(--space-xl);
    }
    
    /* Gallery grid 2-column */
    .gallery-grid {
        grid-template-columns: repeat(2, 1fr);
    }
    
    /* Navigation stays horizontal */
    .nav-links {
        position: static;
        flex-direction: row;
        background: transparent;
        backdrop-filter: none;
        border: none;
        padding: 0;
        gap: var(--space-lg);
        transform: none;
        opacity: 1;
        visibility: visible;
    }
    
    .mobile-menu-toggle {
        display: none;
    }
    
    /* Sticky elements adjustment */
    .experience-timeline,
    .contact-card {
        position: static;
    }
}

/* ===== DESKTOP (1024px - 1439px) ===== */
@media (min-width: 1024px) and (max-width: 1439px) {
    /* Full desktop interactions */
    body {
        cursor: none; /* Re-enable custom cursor */
    }
    
    /* Hero optimizations for desktop */
    .hero-content {
        grid-template-columns: 1fr 1fr;
        gap: var(--space-3xl);
    }
    
    .hero-visual {
        height: 500px;
    }
    
    .data-cube {
        width: 200px;
        height: 200px;
    }
    
    /* Re-enable expensive animations */
    .data-cube {
        animation: cube-rotate 20s linear infinite;
    }
    
    .orbit-1, .orbit-2, .orbit-3 {
        animation: orbit-rotate 15s linear infinite,
                   orbit-rotate 20s linear infinite reverse,
                   orbit-rotate 25s linear infinite;
    }
    
    /* About section full layout */
    .about-content {
        grid-template-columns: 2fr 1fr;
        gap: var(--space-3xl);
    }
    
    /* Skills section side-by-side */
    .skills-content {
        grid-template-columns: 1fr 2fr;
        gap: var(--space-3xl);
    }
    
    .skills-categories {
        grid-template-columns: repeat(2, 1fr);
        gap: var(--space-lg);
    }
    
    #skills-radar-chart {
        width: 400px;
        height: 400px;
    }
    
    /* Projects 2-column grid */
    .projects-grid {
        grid-template-columns: repeat(2, 1fr);
        gap: var(--space-xl);
    }
    
    /* Contact full layout */
    .contact-content {
        grid-template-columns: 1fr 2fr;
        gap: var(--space-3xl);
    }
    
    /* Gallery 3-column */
    .gallery-grid {
        grid-template-columns: repeat(3, 1fr);
    }
    
    /* Re-enable sticky positioning */
    .experience-timeline,
    .contact-card {
        position: sticky;
        top: calc(var(--space-3xl) + 80px);
    }
    
    /* Hover effects re-enabled */
    .project-card:hover {
        transform: translateY(-10px) scale(1.02);
    }
    
    .skill-category:hover {
        transform: translateY(-5px);
    }
    
    .bio-card:hover {
        transform: translateY(-5px);
    }
}

/* ===== LARGE DESKTOP (1440px - 1919px) ===== */
@media (min-width: 1440px) and (max-width: 1919px) {
    /* Enhanced spacing for large screens */
    :root {
        --space-3xl: 8rem;
        --space-xxl: 5rem;
    }
    
    /* Container grows for large screens */
    .container {
        max-width: var(--container-2xl);
    }
    
    /* Hero enhancements */
    .hero-content {
        gap: var(--space-xxl);
    }
    
    .hero-visual {
        height: 600px;
    }
    
    .data-cube {
        width: 250px;
        height: 250px;
    }
    
    /* Enhanced orbit sizes */
    .orbit-1 { width: 350px; height: 350px; }
    .orbit-2 { width: 450px; height: 450px; }
    .orbit-3 { width: 550px; height: 550px; }
    
    /* Projects can fit more comfortably */
    .projects-grid {
        grid-template-columns: repeat(2, 1fr);
        gap: var(--space-xxl);
    }
    
    .project-visual {
        height: 300px;
    }
    
    /* Gallery 4-column */
    .gallery-grid {
        grid-template-columns: repeat(4, 1fr);
    }
    
    /* Skills radar larger */
    #skills-radar-chart {
        width: 450px;
        height: 450px;
    }
    
    /* Enhanced main gallery */
    .gallery-visual {
        height: 500px;
    }
}

/* ===== ULTRA-WIDE DESKTOP (1920px+) ===== */
@media (min-width: 1920px) {
    /* Typography scaling for ultra-wide */
    :root {
        --font-size-5xl: 4rem;
        --font-size-6xl: 5rem;
        --font-size-7xl: 6rem;
        --space-3xl: 10rem;
    }
    
    /* Max container width to prevent over-stretching */
    .container {
        max-width: 1600px;
    }
    
    /* Hero scales appropriately */
    .name-primary {
        font-size: clamp(4rem, 8vw, 7rem);
    }
    
    .title-secondary {
        font-size: clamp(2rem, 4vw, 3rem);
    }
    
    /* Data cube larger for ultra-wide */
    .data-cube {
        width: 300px;
        height: 300px;
    }
    
    .hero-visual {
        height: 700px;
    }
    
    /* Projects can have 3 columns on ultra-wide */
    .projects-grid {
        grid-template-columns: repeat(3, 1fr);
        gap: var(--space-xxl);
    }
    
    /* Gallery takes advantage of space */
    .gallery-grid {
        grid-template-columns: repeat(4, 1fr);
    }
    
    /* Skills radar maximum size */
    #skills-radar-chart {
        width: 500px;
        height: 500px;
    }
}

/* ===== TOUCH DEVICE OPTIMIZATIONS ===== */
@media (hover: none) and (pointer: coarse) {
    /* Touch-specific optimizations */
    
    /* Disable custom cursor on touch devices */
    body {
        cursor: auto !important;
    }
    
    /* Larger touch targets */
    .btn {
        min-height: 44px;
        padding: var(--space-md) var(--space-lg);
    }
    
    .nav-link {
        min-height: 44px;
        padding: var(--space-md);
    }
    
    .control-btn,
    .project-link {
        min-width: 44px;
        min-height: 44px;
    }
    
    /* Remove hover states that don't work on touch */
    .project-card:hover,
    .skill-category:hover,
    .bio-card:hover,
    .gallery-item:hover {
        transform: none;
    }
    
    /* Simplify animations for touch devices */
    .data-cube,
    .orbit-1, .orbit-2, .orbit-3 {
        animation-duration: 60s; /* Slower, more subtle */
    }
    
    /* Focus states more prominent for touch */
    .btn:focus,
    .nav-link:focus,
    input:focus,
    textarea:focus {
        outline: 3px solid var(--primary-blue);
        outline-offset: 2px;
    }
}

/* ===== HIGH DPI DISPLAY OPTIMIZATIONS ===== */
@media (-webkit-min-device-pixel-ratio: 2), 
       (min-resolution: 192dpi) {
    
    /* Crisper lines and borders on high DPI */
    .navbar,
    .bio-card,
    .skill-category,
    .project-card,
    .contact-card,
    .contact-form {
        border-width: 0.5px;
    }
    
    /* Sharper gradients */
    .nav-indicator,
    .skill-progress,
    .form-line {
        height: 1px;
    }
    
    /* Enhanced shadow quality */
    .project-card:hover,
    .skill-category:hover {
        box-shadow: 
            0 10px 25px rgba(0, 0, 0, 0.15),
            0 20px 40px rgba(14, 165, 233, 0.1);
    }
}

/* ===== LANDSCAPE PHONE SPECIFIC ===== */
@media (max-height: 500px) and (orientation: landscape) {
    /* Reduce hero height for landscape phones */
    .hero-section {
        min-height: 80vh;
        padding: var(--space-lg) 0;
    }
    
    /* Hide scroll indicator on short landscape */
    .scroll-indicator {
        display: none;
    }
    
    /* Compact hero metrics */
    .hero-stats {
        grid-template-columns: repeat(3, 1fr);
        gap: var(--space-sm);
    }
    
    .stat-item {
        padding: var(--space-sm);
    }
    
    /* Reduce section padding */
    .about-section,
    .skills-section,
    .projects-section,
    .data-gallery-section,
    .contact-section {
        padding: var(--space-xl) 0;
    }
}

/* ===== PRINT STYLES ===== */
@media print {
    /* Hide interactive elements */
    .data-flow-background,
    .theme-toggle,
    .mobile-menu-toggle,
    .nav-indicator,
    .hero-background,
    .section-background,
    .floating-data-points,
    .scroll-indicator,
    .gallery-controls,
    .btn,
    .contact-form,
    canvas {
        display: none !important;
    }
    
    /* Force light theme for printing */
    * {
        background: white !important;
        color: black !important;
        box-shadow: none !important;
        text-shadow: none !important;
    }
    
    /* Ensure text is selectable */
    body {
        -webkit-user-select: text !important;
        -moz-user-select: text !important;
        -ms-user-select: text !important;
        user-select: text !important;
    }
    
    /* Clean layout for print */
    .navbar {
        position: static !important;
        background: white !important;
        border-bottom: 2px solid black !important;
        box-shadow: none !important;
    }
    
    .hero-content,
    .about-content,
    .skills-content,
    .contact-content {
        grid-template-columns: 1fr !important;
        gap: var(--space-lg) !important;
    }
    
    .projects-grid,
    .gallery-grid {
        grid-template-columns: 1fr !important;
        gap: var(--space-md) !important;
    }
    
    /* Page breaks */
    .hero-section,
    .about-section,
    .skills-section,
    .projects-section,
    .contact-section {
        page-break-inside: avoid;
        break-inside: avoid;
    }
    
    .project-card,
    .skill-category {
        page-break-inside: avoid;
        break-inside: avoid;
        margin-bottom: var(--space-lg);
    }
    
    /* Typography adjustments for print */
    .name-primary {
        font-size: 3rem !important;
    }
    
    .section-title {
        font-size: 2rem !important;
        color: black !important;
    }
    
    /* Contact info adjustment */
    .contact-method {
        color: black !important;
    }
    
    .contact-method svg {
        fill: black !important;
    }
}

/* ===== ACCESSIBILITY IMPROVEMENTS ===== */
@media (prefers-reduced-motion: reduce) {
    /* Disable all animations for motion-sensitive users */
    *,
    *::before,
    *::after {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
        scroll-behavior: auto !important;
    }
    
    /* Remove parallax and 3D effects */
    .data-cube,
    .orbit-1, .orbit-2, .orbit-3,
    .data-point,
    .stream-bit,
    .orbit-point {
        animation: none !important;
        transform: none !important;
    }
    
    /* Disable hardware acceleration flags */
    * {
        will-change: auto !important;
    }
}

@media (prefers-contrast: high) {
    /* High contrast mode adjustments */
    :root {
        --text-primary: #000000;
        --text-secondary: #000000;
        --background-primary: #ffffff;
        --border-primary: #000000;
        --primary-blue: #0000ff;
        --accent-emerald: #008000;
        --accent-amber: #ff8c00;
    }
    
    /* Ensure sufficient contrast */
    .btn-primary {
        background: #000000 !important;
        color: #ffffff !important;
        border: 2px solid #ffffff !important;
    }
    
    .btn-secondary {
        background: #ffffff !important;
        color: #000000 !important;
        border: 2px solid #000000 !important;
    }
    
    .nav-link.active {
        background: #000000 !important;
        color: #ffffff !important;
    }
}

/* ===== DARK MODE SPECIFIC RESPONSIVE ADJUSTMENTS ===== */
@media (prefers-color-scheme: dark) {
    /* Enhanced dark mode for better mobile visibility */
    :root {
        --background-primary: #000000;
        --background-secondary: #0a0a0a;
        --text-primary: #ffffff;
        --text-secondary: #e0e0e0;
    }
}

/* ===== DEVICE-SPECIFIC OPTIMIZATIONS ===== */

/* iPad specific optimizations */
@media (min-device-width: 768px) and (max-device-width: 1024px) and (-webkit-min-device-pixel-ratio: 2) {
    /* iPad Pro optimizations */
    .hero-visual {
        height: 450px;
    }
    
    .data-cube {
        width: 220px;
        height: 220px;
    }
    
    #skills-radar-chart {
        width: 380px;
        height: 380px;
    }
}

/* iPhone specific optimizations */
@media (max-device-width: 812px) and (-webkit-min-device-pixel-ratio: 3) {
    /* iPhone X/11/12/13 safe area adjustments */
    .navbar {
        padding-top: env(safe-area-inset-top);
    }
    
    .hero-section {
        padding-bottom: env(safe-area-inset-bottom);
    }
    
    .nav-container {
        padding-left: max(var(--space-md), env(safe-area-inset-left));
        padding-right: max(var(--space-md), env(safe-area-inset-right));
    }
}

/* ===== PERFORMANCE OPTIMIZATIONS BY VIEWPORT ===== */

/* Optimize animations based on viewport size */
@media (max-width: 767px) {
    /* Reduce animation complexity on mobile */
    .data-point,
    .stream-bit {
        animation-duration: 3s; /* Slower on mobile */
    }
    
    /* Disable expensive blur effects on mobile */
    .navbar,
    .bio-card,
    .contact-card,
    .contact-form {
        backdrop-filter: none;
    }
    
    /* Simplify shadows for better mobile performance */
    .project-card,
    .skill-category,
    .bio-card {
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
    }
}

@media (min-width: 1024px) {
    /* Re-enable full effects on desktop */
    .navbar,
    .bio-card,
    .contact-card,
    .contact-form {
        backdrop-filter: blur(20px);
    }
    
    /* Full shadow effects on desktop */
    .project-card:hover {
        box-shadow: 
            0 20px 40px rgba(0, 0, 0, 0.15),
            0 0 30px rgba(14, 165, 233, 0.2);
    }
} 